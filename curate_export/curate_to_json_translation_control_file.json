{
	"root" : {
		"FieldsToExtract": [
			{ "label": "apiVersion",
				"extraProcessing": "schema_api_version",
				"format": "text"
			},
			{ "label": "fileCreatedDate",
				"extraProcessing": "file_created_date",
				"format": "text"
			},
			{ "label": "sourceSystem",
				"constant": "Curate",
				"format": "text"
			},
			{ "label": "sequence",
				"constant": 1,
				"format": "text"
			},
			{ "label": "title",
				"fields": ["title"],
				"format": "text"
			},
			{
				"label": "id",
				"fields": ["id"],
				"format": "text"
			},
			{ "label": "collectionId",
				"fields": ["id"],
				"format": "text"
			},
			{
				"label": "partOf",
				"fields": ["partOf"],
				"optional": true,
				"!format": "text"
			},
			{
				"label": "repository",
				"passLabels": [{"collectionId": "collectionId", "partOf": "partOf"}],
				"extraProcessing": "pick_repository",
				"format": "text"
			},
			{ "label": "parentId",
				"constant": "root",
				"format": "text"
			},
			{ "label": "creators",
				"fields": ["creator"],
				"extraProcessing": "format_creators",
				"format": "array"
			},
			{ "label": "contributors",
				"fields": ["contributor"],
				"extraProcessing": "format_creators",
				"format": "array"
			},
			{ "label": "creator_administrative_unit",
				"fields": ["creator#administrative_unit"],
				"format": "text"
			},
			{ "label": "permissions_use",
				"fields": ["permissions#use"],
				"format": "text"
			},
			{
				"label": "access",
				"passLabels": [{"creator_administrative_unit": "creator_administrative_unit"}, {"permissions_use": "permissions_use"}, {"partOf": "partOf"}, {"id": "id"}],
				"extraProcessing": "pick_access",
				"format": "text"
			},
			{
				"label": "physicalAccess",
				"passLabels": [{"creator_administrative_unit": "creator_administrative_unit"}, {"permissions_use": "permissions_use"}, {"partOf": "partOf"}, {"id": "id"}],
				"extraProcessing": "pick_access",
				"format": "text"
			},

			{ "label": "digitalAccess",
				"constant": "Regular",
				"format": "text"
			},
			{ "!label": "createdDate",
				"!fields": ["dateSubmitted"],
				"!format": "text",
				"!datePattern": "%Y-%m-%d"
			},
			{
				"label": "date",
				"fields": ["date"
				],
				"format": "text",
				"!datePattern": "%Y-%m-%d"
			},
			{
				"label": "created",
				"fields": ["dates"],
				"format": "text",
				"datePattern": "%Y-%m-%d"
			},
			{
				"label": "dateSubmitted",
				"fields": ["dateSubmitted"],
				"format": "text",
				"datePattern": "%Y-%m-%d"
			},
			{
				"label": "createdDate",
				"passLabels": [{"date": "date"}, {"created": "created"}, {"dateSubmitted": "dateSubmitted"}, {"title": "title"}, {"partOf": "partOf"}, {"id": "id"}],
				"extraProcessing": "pick_created_date",
				"format": "text"
			},
			{
				"label": "placeOfCreation",
				"fields": ["placeOfCreation"],
				"format": "array"
			},
			{
				"label": "geographicLocations",
				"passLabels": [{"placeOfCreation": "placeOfCreation"}],
				"extraProcessing": "pick_geographic_location",
				"format": "array"
			},
			{ "label": "modifiedDate",
				"fields": ["modified"],
				"format": "text",
				"datePattern": "%Y-%m-%d"
			},
			{
				"label": "hasModel",
				"fields": ["hasModel"],
				"format": "text",
				"notes": "we will be passing this to _translate_work_type to determine the workType"
			},
			{ "label": "linkToSource",
				"fields": ["requestUrl"],
				"format": "text",
				"extraProcessing": "link_to_source"
			},
			{ "label": "publisher",
				"fields": ["creator#administrative_unit"],
				"extraProcessing": "format_publisher",
				"format": "text"
			},
			{
				"label": "publisher",
				"passLabels": [{"publisher": "publisher", "partOf": "partOf", "id": "id"}],
				"extraProcessing": "update_publisher",
				"format": "text"
			},
			{ "label": "languages",
				"fields": ["language"],
				"format": "array"
			},
			{ "label": "description",
				"fields": ["description"],
				"format": "text"
			},
			{ "label": "sourceFilePath",
				"fields": ["representative"],
				"format": "text"
			},
			{
				"label": "sourceUri",
				"fields": ["representative"],
				"format": "text"
			},
			{ "!label": "partOf",
				"!fields": ["partOf"],
				"!optional": true,
				"!format": "text"
			},
			{ "label": "bendoItem",
				"fields": ["bendoItem"],
				"format": "text"
			},
			{ "label": "items",
				"fields": ["containedFiles"],
				"passSourceNodes": [{"containedFiles": "containedFiles"}],
				"seedNodes": [
		            {"collectionId": "collectionId"}, {"parentId": "id"}, {"sourceSystem": "sourceSystem"}, {"repository": "repository"},
		            {"apiVersion": "apiVersion"}, {"fileCreatedDate": "fileCreatedDate"}
		        ],
				"externalProcess": "process_contained_files",
				"format": "array"
			},
			{
				"label": "level",
				"note": "This must run after items are added above, since children define level.",
				"extraProcessing": "define_level",
				"passLabels": [{"items": "items"}],
				"format": "text"
			},
			{
				"label": "workType",
				"note": "This must run after level and hasModel have been defined.",
				"extraProcessing": "translate_work_type",
				"passLabels": [{"level": "level", "hasModel": "hasModel", "partOf": "partOf"}],
				"format": "text"
			},
			{
				"removeNodes": ["hasModel", "date", "created", "dateSubmitted", "placeOfCreation", "creator_administrative_unit", "permissions_use", "partOf"]
			}
		]
	},
	"containedFiles" : {
		"FieldsToExtract": [
			{ "label": "sourceType",
				"constant": "Curate",
				"format": "text"
			},
			{ "label": "title",
				"fields": ["label"],
				"format": "text"
			},
			{ "label": "description",
				"fields": ["label"],
				"format": "text"
			},
			{ "label": "id",
				"fields": ["id"],
				"format": "text"
			},
			{ "label": "level",
				"constant": "file",
				"format": "text"
			},
			{ "label": "createdDate",
				"fields": ["dateSubmitted"],
				"format": "text",
				"datePattern": "%Y-%m-%d"
			},
			{ "label": "modifiedDate",
				"fields": ["modified"],
				"format": "text",
				"datePattern": "%Y-%m-%d"
			},
			{ "label": "workType",
				"fields": ["hasModel"],
				"format": "text"
			},
			{ "label": "linkToSource",
				"fields": ["requestUrl"],
				"format": "text",
				"extraProcessing": "link_to_source"
			},
			{ "label": "sourceUri",
				"fields": ["downloadUrl"],
				"format": "text"
			},
			{ "label": "mimeType",
				"fields": ["mimeType"],
				"format": "text"
			},
			{ "label": "mimeType",
				"fields": ["mimeType"],
				"format": "text"
			},
			{ "!label": "isPartOf",
				"!fields": ["isPartOf"],
				"!format": "text"
			},
			{ "label": "bendoItem",
				"fields": ["bendoItem"],
				"format": "text"
			},
			{ "label": "md5Checksum",
				"fields": ["characterization"],
				"extraProcessing": "extract_field_from_characterization_xml",
				"fieldToExtract": "./fileinfo/md5checksum",
				"format": "text"
			},
			{
				"label": "storageSystem",
				"constant": "Curate",
				"format": "text"
			},
			{
				"label": "typeOfData",
				"constant": "Curate",
				"format": "text"
			}
		]
	}
}
